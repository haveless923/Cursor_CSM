# æ’æŸ¥ Supabase è¡¨ä¸æ˜¾ç¤ºé—®é¢˜

## ğŸ” é—®é¢˜ï¼šSQLæ‰§è¡ŒæˆåŠŸä½†Table Editorä¸­çœ‹ä¸åˆ°è¡¨

### å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ

## æ­¥éª¤1ï¼šéªŒè¯è¡¨æ˜¯å¦çœŸçš„åˆ›å»ºäº†

### æ–¹æ³•Aï¼šä½¿ç”¨SQLæŸ¥è¯¢éªŒè¯

1. åœ¨ SQL Editor ä¸­æ‰§è¡Œä»¥ä¸‹æŸ¥è¯¢ï¼š

```sql
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
ORDER BY table_name;
```

å¦‚æœçœ‹åˆ°ä»¥ä¸‹è¡¨åï¼Œè¯´æ˜è¡¨å·²åˆ›å»ºï¼š
- `customers`
- `industry_news`
- `next_step_history`
- `news_favorites`
- `users`

### æ–¹æ³•Bï¼šç›´æ¥æŸ¥è¯¢è¡¨

å°è¯•æ‰§è¡Œï¼š

```sql
SELECT COUNT(*) FROM customers;
```

å¦‚æœè¿”å›æ•°å­—ï¼ˆå³ä½¿æ˜¯0ï¼‰ï¼Œè¯´æ˜è¡¨å­˜åœ¨ã€‚

## æ­¥éª¤2ï¼šåˆ·æ–°Table Editor

1. **åˆ·æ–°æµè§ˆå™¨é¡µé¢**
   - æŒ‰ `F5` æˆ– `Cmd+R` / `Ctrl+R`
   - æˆ–è€…å®Œå…¨å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µåé‡æ–°æ‰“å¼€

2. **åˆ·æ–°Table Editor**
   - åœ¨ Table Editor é¡µé¢ï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®
   - æˆ–è€…å…³é—­å¹¶é‡æ–°æ‰“å¼€ Table Editor

3. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - å¦‚æœè¿˜æ˜¯çœ‹ä¸åˆ°ï¼Œå°è¯•æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

## æ­¥éª¤3ï¼šæ£€æŸ¥Schema

ç¡®ä¿è¡¨åœ¨ `public` schema ä¸­ï¼š

```sql
SELECT 
  schemaname,
  tablename
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY tablename;
```

## æ­¥éª¤4ï¼šæ£€æŸ¥æƒé™

å¦‚æœè¡¨å­˜åœ¨ä½†çœ‹ä¸åˆ°ï¼Œå¯èƒ½æ˜¯æƒé™é—®é¢˜ï¼š

```sql
-- æ£€æŸ¥å½“å‰ç”¨æˆ·
SELECT current_user;

-- æ£€æŸ¥è¡¨çš„æƒé™
SELECT 
  table_name,
  grantee,
  privilege_type
FROM information_schema.role_table_grants
WHERE table_schema = 'public'
  AND table_name IN ('users', 'customers', 'next_step_history');
```

## æ­¥éª¤5ï¼šæ‰‹åŠ¨åˆ·æ–°Supabase Dashboard

1. å®Œå…¨é€€å‡º Supabase Dashboard
2. é‡æ–°ç™»å½•
3. è¿›å…¥ Table Editor

## æ­¥éª¤6ï¼šä½¿ç”¨APIéªŒè¯

å¦‚æœSQLæŸ¥è¯¢æ˜¾ç¤ºè¡¨å­˜åœ¨ï¼Œä½†Table Editorçœ‹ä¸åˆ°ï¼Œå¯ä»¥ï¼š

1. åœ¨åº”ç”¨çš„æµè§ˆå™¨æ§åˆ¶å°ä¸­æµ‹è¯•ï¼š

```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
const supabase = window.supabase.createClient(
  'https://jpaurpkibrjwqthrcexc.supabase.co',
  'sb_publishable_eJMFki07-yqFP8Hv2kdu9g_7lrSRdBB'
);

// æµ‹è¯•æŸ¥è¯¢
supabase.from('customers').select('count').then(console.log);
```

å¦‚æœè¿™ä¸ªèƒ½æ‰§è¡Œï¼Œè¯´æ˜è¡¨ç¡®å®å­˜åœ¨ã€‚

## æ­¥éª¤7ï¼šé‡æ–°åˆ›å»ºè¡¨ï¼ˆå¦‚æœç¡®è®¤ä¸å­˜åœ¨ï¼‰

å¦‚æœéªŒè¯åå‘ç°è¡¨ç¡®å®ä¸å­˜åœ¨ï¼Œæ‰§è¡Œï¼š

1. ä½¿ç”¨ `supabase_clean_and_create.sql` é‡æ–°åˆ›å»º
2. æˆ–è€…ä½¿ç”¨ `supabase_schema_simple.sql`ï¼ˆå¦‚æœè¡¨ä¸å­˜åœ¨ï¼Œ`IF NOT EXISTS` ä¼šåˆ›å»ºï¼‰

## ğŸ”§ å¿«é€Ÿè¯Šæ–­å‘½ä»¤

åœ¨ SQL Editor ä¸­æ‰§è¡Œè¿™ä¸ªç»¼åˆæŸ¥è¯¢ï¼š

```sql
-- ç»¼åˆæ£€æŸ¥
SELECT 
  'è¡¨æ£€æŸ¥' as check_type,
  CASE 
    WHEN EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users') 
    THEN 'âœ… users å­˜åœ¨'
    ELSE 'âŒ users ä¸å­˜åœ¨'
  END as users_status,
  CASE 
    WHEN EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'customers') 
    THEN 'âœ… customers å­˜åœ¨'
    ELSE 'âŒ customers ä¸å­˜åœ¨'
  END as customers_status,
  CASE 
    WHEN EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'next_step_history') 
    THEN 'âœ… next_step_history å­˜åœ¨'
    ELSE 'âŒ next_step_history ä¸å­˜åœ¨'
  END as history_status;
```

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: SQLæ‰§è¡ŒæˆåŠŸä½†æ²¡æœ‰é”™è¯¯ï¼Œè¡¨åœ¨å“ªé‡Œï¼Ÿ

**A**: è¡¨å¯èƒ½åˆ›å»ºåœ¨é”™è¯¯çš„schemaä¸­ï¼Œæˆ–è€…éœ€è¦åˆ·æ–°é¡µé¢ã€‚

### Q2: è¡¨å­˜åœ¨ä½†Table Editorçœ‹ä¸åˆ°ï¼Ÿ

**A**: è¿™æ˜¯Supabase Dashboardçš„æ˜¾ç¤ºé—®é¢˜ï¼Œå°è¯•ï¼š
- åˆ·æ–°é¡µé¢
- æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†æ­£ç¡®çš„é¡¹ç›®
- æ£€æŸ¥Table Editorçš„ç­›é€‰å™¨

### Q3: å¦‚ä½•ç¡®è®¤è¡¨çœŸçš„åˆ›å»ºäº†ï¼Ÿ

**A**: ä½¿ç”¨SQLæŸ¥è¯¢éªŒè¯ï¼Œä¸è¦åªä¾èµ–Table Editorçš„æ˜¾ç¤ºã€‚

## âœ… éªŒè¯æˆåŠŸçš„æ ‡å¿—

å¦‚æœä»¥ä¸‹æŸ¥è¯¢éƒ½èƒ½æ‰§è¡Œï¼Œè¯´æ˜è¡¨åˆ›å»ºæˆåŠŸï¼š

```sql
-- 1. æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨
SELECT COUNT(*) FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('users', 'customers', 'next_step_history', 'industry_news', 'news_favorites');
-- åº”è¯¥è¿”å› 5

-- 2. å°è¯•æŸ¥è¯¢è¡¨ï¼ˆå³ä½¿ä¸ºç©ºï¼‰
SELECT COUNT(*) FROM customers LIMIT 1;
-- åº”è¯¥è¿”å› 0ï¼ˆå¦‚æœè¡¨æ˜¯ç©ºçš„ï¼‰

-- 3. æ£€æŸ¥è¡¨ç»“æ„
SELECT column_name FROM information_schema.columns 
WHERE table_name = 'customers' AND table_schema = 'public';
-- åº”è¯¥è¿”å›å¾ˆå¤šåˆ—å
```

## ğŸ¯ ä¸‹ä¸€æ­¥

1. å…ˆæ‰§è¡ŒéªŒè¯æŸ¥è¯¢ç¡®è®¤è¡¨æ˜¯å¦å­˜åœ¨
2. å¦‚æœå­˜åœ¨ï¼Œåˆ·æ–°Table Editor
3. å¦‚æœä¸å­˜åœ¨ï¼Œé‡æ–°æ‰§è¡Œåˆ›å»ºè„šæœ¬
4. å¦‚æœè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯ä¿¡æ¯

